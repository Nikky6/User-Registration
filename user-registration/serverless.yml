service: user-registration
frameworkVersion: '3'

provider:
  name: aws
  runtime: nodejs18.x

  
plugins:
  - serverless-offline
  - serverless-esbuild

functions:
  api:
    handler: index.handler
    events:
      - httpApi:
          path: /
          method: get

  register: 
    handler: controller/user-controller.register
    events:
      - httpApi:
          path: user/register
          method: POST
          cors:
            origin: ["*"]
            headers: ["*"]

  userList: 
    handler: controller/user-controller.userList
    events:
      - httpApi:
          path: user/list
          method: GET
          cors:
            origin: ["*"]
            headers: ["*"]

  getUserById: 
    handler: controller/user-controller.getUserById
    events:
      - httpApi:
          path: user/{id}
          method: GET
          cors:
            origin: ["*"]
            headers: ["*"]

  updateUserDetails: 
    handler: controller/user-controller.updateUserDetails
    events:
      - httpApi:
          path: user/update
          method: PUT
          cors:
            origin: ["*"]
            headers: ["*"]

